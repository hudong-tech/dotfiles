# Conda å¢å¼ºæ¨¡å—

> ğŸ **ä¸“ä¸šçº§ Python ç¯å¢ƒç®¡ç†è§£å†³æ–¹æ¡ˆ** - é’ˆå¯¹ä¸­å›½å¼€å‘è€…å’Œä¼ä¸šç”¨æˆ·æ·±åº¦ä¼˜åŒ–

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)                    
- [åŠŸèƒ½åˆ—è¡¨](#åŠŸèƒ½åˆ—è¡¨)            
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)            
- [å‡½æ•°æ¸…å•](#å‡½æ•°æ¸…å•)            
- [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)            
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)            

---

## ğŸ¯ æ¦‚è¿°

### æ˜¯ä»€ä¹ˆ

Condaå¢å¼ºæ¨¡å—æ˜¯ä¸€å¥—**å®Œæ•´çš„Pythonç¯å¢ƒç®¡ç†è§£å†³æ–¹æ¡ˆ**ï¼Œé€šè¿‡å¤šå±‚æ¬¡æ¶æ„å’Œæ™ºèƒ½åŒ–å·¥å…·é“¾ï¼Œè§£å†³äº†condaåŸç”ŸåŠŸèƒ½åœ¨å®é™…å¼€å‘ä¸­çš„ç—›ç‚¹é—®é¢˜ã€‚

### æ ¸å¿ƒä»·å€¼

**ğŸ”º è§£å†³"ä¸å¯èƒ½ä¸‰è§’"é—®é¢˜**

åœ¨Pythonç¯å¢ƒç®¡ç†ä¸­ï¼Œçµæ´»æ€§ã€å¯é‡ç°æ€§ã€ç»´æŠ¤æ€§ä¸‰è€…å¾€å¾€ç›¸äº’å†²çªã€‚æœ¬æ¨¡å—é€šè¿‡**åˆ†å±‚æ¶æ„è®¾è®¡**å·§å¦™å¹³è¡¡äº†è¿™ä¸‰ä¸ªç›®æ ‡ï¼š

```
        çµæ´»æ€§ (å¼€å‘æµ‹è¯•)
         /\
        /  \
       /    \
      / åˆ†å±‚ \
     / æ¶æ„  \
    /__________\
å¯é‡ç°æ€§        ç»´æŠ¤æ€§
(ç”Ÿäº§ç¯å¢ƒ)    (è‡ªåŠ¨åŒ–ç®¡ç†)

```

**ğŸ‡¨ğŸ‡³ ä¸­å›½åŒ–æ·±åº¦ä¼˜åŒ–**

- **ç½‘ç»œç¯å¢ƒé€‚é…**ï¼šé»˜è®¤ä¸­å›½é•œåƒæºï¼Œä¼˜åŒ–è¶…æ—¶è®¾ç½®
- **æ€§èƒ½è°ƒä¼˜**ï¼šlibmambaæ±‚è§£å™¨ï¼Œå¹¶å‘ä¸‹è½½ä¼˜åŒ–
- **ä¼ä¸šå‹å¥½**ï¼šéšç§ä¿æŠ¤ï¼Œå†…ç½‘æ”¯æŒï¼Œä»£ç†é…ç½®

**ğŸ› ï¸ å®Œæ•´å·¥å…·é“¾**

- **9ä¸ªä¸“ä¸šå‡½æ•°**ï¼šè¦†ç›–ç¯å¢ƒç®¡ç†å…¨ç”Ÿå‘½å‘¨æœŸ
- **11ä¸ªåœºæ™¯æ¨¡æ¿**ï¼šä»åŸºç¡€å¼€å‘åˆ°ä¼ä¸šçº§åº”ç”¨
- **ä¸‰å±‚æ¶æ„**ï¼šçµæ´»å¼€å‘ + é”å®šç”Ÿäº§ + æç®€å®éªŒ

## ğŸ“¦ åŠŸèƒ½åˆ—è¡¨

### ğŸ”§ ç¯å¢ƒç®¡ç†å¢å¼º

| åŠŸèƒ½æ¨¡å— | æ ¸å¿ƒèƒ½åŠ› | æä¾›çš„ä»·å€¼ |
|----------|----------|------------|
| **æ™ºèƒ½æ¨¡æ¿ç³»ç»Ÿ** | 11ä¸ªä¸“ä¸šåœºæ™¯æ¨¡æ¿ | ä¸€é”®åˆ›å»ºæ ‡å‡†åŒ–ç¯å¢ƒï¼Œæ”¯æŒPython 3.9-3.11 |
| **ä¸‰å±‚æ¶æ„** | templates/locked/minimal | çµæ´»å¼€å‘+ç²¾ç¡®ç”Ÿäº§+å¿«é€Ÿå®éªŒ |
| **å‚æ•°åŒ–è®¾è®¡** | å•æ¨¡æ¿æ”¯æŒå¤šPythonç‰ˆæœ¬ | å‡å°‘æ¨¡æ¿æ•°é‡ï¼Œä¿è¯ä¸€è‡´æ€§ |
| **è‡ªåŠ¨åŒ–æµç¨‹** | ç¯å¢ƒå¯¼å‡ºã€å¤‡ä»½ã€è¿ç§» | ç®€åŒ–ç¯å¢ƒç®¡ç†å¤æ‚æ“ä½œ |

### ğŸ“Š çŠ¶æ€ç›‘æ§åˆ†æ

| åŠŸèƒ½ | æè¿° | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| **ç¯å¢ƒçŠ¶æ€æ€»è§ˆ** | ç³»ç»Ÿä¿¡æ¯ã€ç¯å¢ƒç»Ÿè®¡ã€ç¼“å­˜åˆ†æ | æ—¥å¸¸ç»´æŠ¤å†³ç­– |
| **ç£ç›˜å ç”¨åˆ†æ** | ç¯å¢ƒå¤§å°ã€ç›®å½•åˆ†å¸ƒã€åŒ…ç»Ÿè®¡ | å­˜å‚¨ä¼˜åŒ– |
| **ä¾èµ–å…³ç³»è¯Šæ–­** | åŒ…å†²çªæ£€æµ‹ã€ç‰ˆæœ¬å…¼å®¹æ€§åˆ†æ | é—®é¢˜æ’æŸ¥ |
| **æ€§èƒ½ç›‘æ§** | åˆ›å»ºæ—¶é—´ã€ä¸‹è½½é€Ÿåº¦ã€æ±‚è§£æ•ˆç‡ | æ€§èƒ½è°ƒä¼˜ |

### ğŸŒ ç½‘ç»œè¿æ¥ä¼˜åŒ–

| åŠŸèƒ½ | é…ç½®é¡¹ | ä¼˜åŒ–æ•ˆæœ |
|------|--------|----------|
| **å¤šæºåˆ‡æ¢** | 6ä¸ªé•œåƒæºé…ç½® | ç½‘ç»œé—®é¢˜åº”æ€¥åˆ‡æ¢ |
| **è¿æ¥æµ‹è¯•** | è‡ªåŠ¨æ£€æµ‹æºå¯ç”¨æ€§ | å¿«é€Ÿè¯Šæ–­ç½‘ç»œé—®é¢˜ |
| **æ™ºèƒ½é‡è¯•** | 5æ¬¡é‡è¯•+é€‚åº”æ€§è¶…æ—¶ | æé«˜è¿æ¥æˆåŠŸç‡ |
| **å¹¶å‘ä¸‹è½½** | 4çº¿ç¨‹å¹¶è¡Œä¸‹è½½ | æ˜¾è‘—æå‡ä¸‹è½½é€Ÿåº¦ |

### ğŸ§¹ ç»´æŠ¤æ¸…ç†å·¥å…·

| å·¥å…· | åŠŸèƒ½ | èŠ‚çœæ•ˆæœ |
|------|------|----------|
| **æ™ºèƒ½ç¼“å­˜æ¸…ç†** | åˆ†ç±»æ¸…ç†+ç©ºé—´ç»Ÿè®¡ | é‡Šæ”¾GBçº§ç£ç›˜ç©ºé—´ |
| **ç¯å¢ƒå¥åº·æ£€æŸ¥** | å®Œæ•´æ€§éªŒè¯+ä¿®å¤å»ºè®® | é¢„é˜²ç¯å¢ƒæŸå |
| **æ‰¹é‡ç¯å¢ƒç®¡ç†** | ç¯å¢ƒåˆ—è¡¨+æ‰¹é‡æ“ä½œ | å‡å°‘é‡å¤æ“ä½œ |
| **è‡ªåŠ¨ç»´æŠ¤** | å®šæœŸæ¸…ç†+ç‰ˆæœ¬æ›´æ–° | è‡ªåŠ¨åŒ–è¿ç»´ |

## âš¡ å¿«é€Ÿå¼€å§‹

### ğŸ’¨ åŸºç¡€é…ç½®

```bash
# 1ï¸âƒ£ åˆ›å»ºå¿…è¦çš„ç›®å½•
mkdir -p ~/.conda/envs
mkdir -p ~/.conda/pkgs

# 2ï¸âƒ£ åˆ›å»ºè½¯é“¾æ¥
ln -sf $DOTFILES/conda/condarc ~/.condarc
ln -sf $DOTFILES/conda/sources.yml ~/.conda/sources.yml

# 3ï¸âƒ£ åœ¨ ~/.zshrc ä¸­æ·»åŠ é…ç½®
# åœ¨ "# >>> conda initialize >>>" ä¹‹å‰æ·»åŠ ï¼š
source $DOTFILES/conda/functions.zsh
source $DOTFILES/conda/aliases.zsh
source $DOTFILES/conda/config.zsh

# 4ï¸âƒ£ é‡æ–°åŠ è½½é…ç½®
source ~/.zshrc
```

### âœ… éªŒè¯é…ç½®

```bash
# 1ï¸âƒ£ æ£€æŸ¥ç›®å½•ç»“æ„
ls -la ~/.conda
# æˆåŠŸæ ‡å¿—ï¼š
# - å­˜åœ¨ envs å’Œ pkgs ç›®å½•
# - ç›®å½•æƒé™ä¸º drwxr-xr-x
# - æ‰€æœ‰è€…æ˜¯å½“å‰ç”¨æˆ·

# 2ï¸âƒ£ æ£€æŸ¥è½¯é“¾æ¥
ls -l ~/.condarc
ls -l ~/.conda/sources.yml
# æˆåŠŸæ ‡å¿—ï¼š
# - æ˜¾ç¤º lrwxr-xr-x æƒé™
# - æ­£ç¡®æŒ‡å‘ $DOTFILES/conda/ ä¸‹çš„å¯¹åº”æ–‡ä»¶
# - é“¾æ¥æ–‡ä»¶å­˜åœ¨ä¸”å¯è®¿é—®

# 3ï¸âƒ£ æµ‹è¯• conda é…ç½®
conda config --show
# æˆåŠŸæ ‡å¿—ï¼š
# - æ˜¾ç¤ºå®Œæ•´çš„é…ç½®ä¿¡æ¯
# - channels åŒ…å«é…ç½®çš„é•œåƒæº
# - å…¶ä»–é…ç½®é¡¹æ­£ç¡®æ˜¾ç¤º

# 4ï¸âƒ£ éªŒè¯æºé…ç½®
conda config --show channels
# æˆåŠŸæ ‡å¿—ï¼š
# - æ˜¾ç¤ºé…ç½®çš„é•œåƒæºåˆ—è¡¨
# - æºé¡ºåºæ­£ç¡®
# - åŒ…å«é˜¿é‡Œäº‘å’Œæ¸…åæº

# 5ï¸âƒ£ æµ‹è¯•ç½‘ç»œè¿æ¥
conda search numpy
# æˆåŠŸæ ‡å¿—ï¼š
# - èƒ½å¤Ÿæ­£å¸¸æœç´¢åŒ…
# - æ˜¾ç¤ºåŒ…ä¿¡æ¯
# - æ²¡æœ‰ç½‘ç»œé”™è¯¯
```

### ğŸ§ª ç¯å¢ƒåˆ›å»ºæµ‹è¯•

```bash
# 1ï¸âƒ£ æµ‹è¯•åŸºç¡€ç¯å¢ƒåˆ›å»º
conda_create_python_env test-basic 3.10
# æˆåŠŸæ ‡å¿—ï¼š
# - æˆåŠŸåˆ›å»ºç¯å¢ƒ
# - å®‰è£…æŒ‡å®šPythonç‰ˆæœ¬
# - åŒ…å«åŸºç¡€å¼€å‘åŒ…

# 2ï¸âƒ£ æµ‹è¯•æ¨¡æ¿ç¯å¢ƒåˆ›å»º
conda_create_from_template python-basic test-template 3.10
# æˆåŠŸæ ‡å¿—ï¼š
# - ä»æ¨¡æ¿æˆåŠŸåˆ›å»ºç¯å¢ƒ
# - è‡ªåŠ¨å®‰è£…å¼€å‘å·¥å…·ï¼ˆruffã€pre-commitã€ipdbç­‰ï¼‰
# - é€šè¿‡pip requirementså®‰è£…é¢å¤–ä¾èµ–

# 3ï¸âƒ£ éªŒè¯ç¯å¢ƒåŠŸèƒ½
conda activate test-template
python --version                    # éªŒè¯Pythonç‰ˆæœ¬
pip list                           # æŸ¥çœ‹å®‰è£…çš„åŒ…
conda deactivate

# 4ï¸âƒ£ æµ‹è¯•å…¶ä»–å‡½æ•°
conda_check_env test-template      # ç¯å¢ƒå¥åº·æ£€æŸ¥
conda_status                       # æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
conda_cleanup                      # æ¸…ç†ç¼“å­˜ï¼ˆå¯é€‰ï¼‰

# 5ï¸âƒ£ æ¸…ç†æµ‹è¯•ç¯å¢ƒï¼ˆå¯é€‰ï¼‰
conda remove --name test-basic --all
conda remove --name test-template --all
```

### ğŸ¯ é…ç½®è¯´æ˜

| é…ç½®é¡¹ | è¯´æ˜ | çŠ¶æ€ |
|--------|------|------|
| ç›®å½•ç»“æ„ | åˆ›å»ºå¿…è¦çš„condaç›®å½• | âœ… å·²å®Œæˆ |
| è½¯é“¾æ¥ | é“¾æ¥condarcå’Œsources.yml | âœ… å·²å®Œæˆ |
| Shellé…ç½® | åŠ è½½condaæ¨¡å—é…ç½® | âœ… å·²å®Œæˆ |
| ç¯å¢ƒæ¨¡æ¿ | é…ç½®ç¯å¢ƒæ¨¡æ¿ç³»ç»Ÿ | âœ… å·²å®Œæˆ |
| å‡½æ•°åŠ è½½ | åŠ è½½å¢å¼ºå‡½æ•° | âœ… å·²å®Œæˆ |

## ğŸ“‹ å‡½æ•°æ¸…å•

### ğŸ”§ ç¯å¢ƒç®¡ç†ç±»ï¼ˆ3ä¸ªå‡½æ•°ï¼‰

| å‡½æ•°å | ä½œç”¨æè¿° | å‚æ•° | ä½¿ç”¨ç¤ºä¾‹ |
|--------|----------|------|----------|
| `conda_create_python_env` | å¿«é€Ÿåˆ›å»ºåŸºç¡€Pythonç¯å¢ƒ | `$1`: ç¯å¢ƒåï¼ˆé»˜è®¤pyenvï¼‰<br>`$2`: Pythonç‰ˆæœ¬ï¼ˆé»˜è®¤3.10ï¼‰ | `conda_create_python_env myproject 3.11` |
| `conda_create_from_template` | ä»YAMLæ¨¡æ¿åˆ›å»ºç¯å¢ƒ | `$1`: æ¨¡æ¿åï¼ˆå¿…éœ€ï¼‰<br>`$2`: ç¯å¢ƒåï¼ˆå¯é€‰ï¼‰<br>`$3`: Pythonç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰ | `conda_create_from_template datascience my-ds 3.10` |
| `conda_save_as_template` | å°†å½“å‰ç¯å¢ƒä¿å­˜ä¸ºæ¨¡æ¿ | `$1`: æ¨¡æ¿åï¼ˆé»˜è®¤å½“å‰ç›®å½•åï¼‰ | `conda_save_as_template my-template` |

### ğŸ“Š çŠ¶æ€ä¿¡æ¯ç±»ï¼ˆ2ä¸ªå‡½æ•°ï¼‰

| å‡½æ•°å | ä½œç”¨æè¿° | å‚æ•° | ä½¿ç”¨ç¤ºä¾‹ |
|--------|----------|------|----------|
| `conda_status` | æ˜¾ç¤ºcondaæ•´ä½“çŠ¶æ€æ€»è§ˆ | æ— å‚æ•° | `conda_status` |
| `conda_env_size` | åˆ†æç¯å¢ƒç£ç›˜å ç”¨æƒ…å†µ | `$1`: ç¯å¢ƒåï¼ˆé»˜è®¤å½“å‰ç¯å¢ƒï¼‰ | `conda_env_size myenv` |

### ğŸ› ï¸ ç»´æŠ¤æ¸…ç†ç±»ï¼ˆ2ä¸ªå‡½æ•°ï¼‰

| å‡½æ•°å | ä½œç”¨æè¿° | å‚æ•° | ä½¿ç”¨ç¤ºä¾‹ |
|--------|----------|------|----------|
| `conda_cleanup` | æ¸…ç†condaç¼“å­˜å’Œä¸´æ—¶æ–‡ä»¶ | æ— å‚æ•° | `conda_cleanup` |
| `conda_check_env` | æ£€æŸ¥ç¯å¢ƒå¥åº·çŠ¶æ€ | `$1`: ç¯å¢ƒåï¼ˆé»˜è®¤å½“å‰ç¯å¢ƒï¼‰ | `conda_check_env myenv` |

### ğŸŒ æºç®¡ç†ç±»ï¼ˆ2ä¸ªå‡½æ•°ï¼‰

| å‡½æ•°å | ä½œç”¨æè¿° | å‚æ•° | ä½¿ç”¨ç¤ºä¾‹ |
|--------|----------|------|----------|
| `conda_switch_source` | åˆ‡æ¢condaé•œåƒæºé…ç½® | `$1`: æºç±»å‹ï¼ˆä»sources.ymlè¯»å–ï¼‰ | `conda_switch_source china` |
| `conda_test_connection` | æµ‹è¯•å½“å‰æºè¿æ¥çŠ¶æ€ | æ— å‚æ•° | `conda_test_connection` |

### ğŸ¯ ä½¿ç”¨é¢‘ç‡é¢„ä¼°

| ä½¿ç”¨é¢‘ç‡ | å‡½æ•°åˆ—è¡¨ |
|----------|----------|
| **é«˜é¢‘** | `conda_create_python_env`, `conda_switch_source`, `conda_status` |
| **ä¸­é¢‘** | `conda_create_from_template`, `conda_cleanup`, `conda_test_connection` |
| **ä½é¢‘** | `conda_save_as_template`, `conda_env_size`, `conda_check_env` |

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### ğŸ“ æ¨¡å—ç»„æˆæ¶æ„

```bash
conda/
â”œâ”€â”€ ğŸ“„ condarc                    # æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆä¸­å›½ä¼˜åŒ–ï¼‰
â”œâ”€â”€ ğŸ“„ functions.zsh              # 9ä¸ªå¢å¼ºå‡½æ•°ï¼ˆ678è¡Œä»£ç ï¼‰
â”œâ”€â”€ ğŸ“„ sources.yml                # 6ä¸ªé•œåƒæºé…ç½®
â”œâ”€â”€ ğŸ“„ aliases.zsh                # ç²¾ç®€å®ç”¨åˆ«å
â”œâ”€â”€ ğŸ“„ config.zsh                 # æ¨¡å—åˆå§‹åŒ–æ£€æŸ¥
â””â”€â”€ ğŸ“ environments/              # ç¯å¢ƒæ¨¡æ¿ç³»ç»Ÿ
    â”œâ”€â”€ ğŸ“ templates/             # 11ä¸ªçµæ´»æ¨¡æ¿ï¼ˆå¼€å‘ç”¨ï¼‰
    â”œâ”€â”€ ğŸ“ locked/                # é”å®šæ¨¡æ¿ï¼ˆç”Ÿäº§ç”¨ï¼‰
    â””â”€â”€ ğŸ“ minimal/               # æœ€å°æ¨¡æ¿ï¼ˆå®éªŒç”¨ï¼‰
```

### ğŸ”§ å‡½æ•°ä½“ç³»è®¾è®¡

**9ä¸ªä¸“ä¸šå‡½æ•°åˆ†ç±»**ï¼š

| ç±»åˆ« | å‡½æ•°æ•°é‡ | æ ¸å¿ƒèŒè´£ | æŠ€æœ¯ç‰¹ç‚¹ |
|------|----------|----------|----------|
| **ğŸ”§ ç¯å¢ƒç®¡ç†** | 3ä¸ª | åˆ›å»ºã€æ¨¡æ¿åŒ–ã€å‚æ•°åŒ– | YAMLè§£æï¼Œå˜é‡æ›¿æ¢ |
| **ğŸ“Š çŠ¶æ€ä¿¡æ¯** | 2ä¸ª | ç›‘æ§ã€åˆ†æã€ç»Ÿè®¡ | ç³»ç»Ÿè°ƒç”¨ï¼Œæ•°æ®èšåˆ |
| **ğŸ› ï¸ ç»´æŠ¤æ¸…ç†** | 2ä¸ª | æ¸…ç†ã€æ£€æŸ¥ã€ä¿®å¤ | ç£ç›˜åˆ†æï¼Œå¥åº·æ£€æµ‹ |
| **ğŸŒ æºç®¡ç†** | 2ä¸ª | åˆ‡æ¢ã€æµ‹è¯•ã€è¯Šæ–­ | ç½‘ç»œæ£€æµ‹ï¼Œé…ç½®ç®¡ç† |

**ä»£ç è´¨é‡ä¿è¯**ï¼š
- ğŸ“ å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
- ğŸ¨ ç»Ÿä¸€çš„è¾“å‡ºæ ¼å¼å’Œé¢œè‰²æ–¹æ¡ˆ  
- ğŸ” è¯¦ç»†çš„å‚æ•°éªŒè¯å’Œå¸®åŠ©ä¿¡æ¯
- ğŸ§ª è·¨å¹³å°å…¼å®¹æ€§ï¼ˆmacOS/Linuxï¼‰

## ğŸ“„ condarc é…ç½®é‡ç‚¹è®¾è®¡

### ğŸ‡¨ğŸ‡³ ä¸­å›½ç½‘ç»œç¯å¢ƒä¼˜åŒ–

| é…ç½®é¡¹ | è®¾ç½®å€¼ | ä¼˜åŒ–æ•ˆæœ |
|--------|--------|----------|
| **é»˜è®¤æº** | é˜¿é‡Œäº‘ + æ¸…å + conda-forge | å•†ä¸šç¨³å®šæ€§ + æ•™è‚²å¤‡ç”¨ + æœ€æ–°åŒ… |
| **ç½‘ç»œè¶…æ—¶** | è¿æ¥30s + è¯»å–120s | é€‚åº”å›½å†…ç½‘ç»œå»¶è¿Ÿ |
| **é‡è¯•æœºåˆ¶** | æœ€å¤§5æ¬¡é‡è¯• | æé«˜è¿æ¥æˆåŠŸç‡ |
| **SSLéªŒè¯** | å¯ç”¨ | ä¿æŒå®‰å…¨æ€§ |

### âš¡ æ€§èƒ½ä¼˜åŒ–é…ç½®

| é…ç½®é¡¹ | è®¾ç½®å€¼ | æ€§èƒ½æå‡ |
|--------|--------|----------|
| **æ±‚è§£å™¨** | `libmamba` | ä¾èµ–è§£æé€Ÿåº¦æå‡10å€+ |
| **å¹¶å‘ä¸‹è½½** | 4çº¿ç¨‹ | æ˜¾è‘—æé«˜ä¸‹è½½é€Ÿåº¦ |
| **åŒ…æ ¼å¼** | æ”¯æŒ `.conda` | æ›´å¿«çš„è§£å‹å’Œå®‰è£… |
| **æºä¼˜å…ˆçº§** | `strict` | é¿å…ç‰ˆæœ¬å†²çª |

### ğŸ”’ å®‰å…¨å’Œéšç§ä¿æŠ¤

| é…ç½®é¡¹ | è®¾ç½®å€¼ | ä¿æŠ¤æ•ˆæœ |
|--------|--------|----------|
| **é”™è¯¯æŠ¥å‘Š** | ç¦ç”¨ | é¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ² |
| **è‡ªåŠ¨ä¸Šä¼ ** | ç¦ç”¨ | é˜²æ­¢æ„å¤–å‘å¸ƒ |
| **è½¯é“¾æ¥** | ç¦ç”¨ | æé«˜æ–‡ä»¶ç³»ç»Ÿå®‰å…¨ |
| **ç»Ÿè®¡æ”¶é›†** | é™åˆ¶ | å‡å°‘æ•°æ®æ”¶é›† |

### ğŸ¨ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

| é…ç½®é¡¹ | è®¾ç½®å€¼ | ä½“éªŒæ”¹è¿› |
|--------|--------|----------|
| **baseç¯å¢ƒ** | ä¸è‡ªåŠ¨æ¿€æ´» | é¿å…ç¯å¢ƒæ±¡æŸ“ |
| **è¿›åº¦æ˜¾ç¤º** | å¯ç”¨ | æ¸…æ™°çš„æ“ä½œåé¦ˆ |
| **pipé›†æˆ** | å¯ç”¨ | æ— ç¼æ··ç”¨condaå’Œpip |
| **è‡ªåŠ¨æ›´æ–°** | å¯ç”¨ | ä¿æŒå·¥å…·æœ€æ–° |

### ğŸ¢ ä¼ä¸šç¯å¢ƒå…¼å®¹

```yaml
# é¢„ç•™çš„ä¼ä¸šé…ç½®é€‰é¡¹
proxy_servers:          # ä»£ç†æœåŠ¡å™¨è®¾ç½®
  http: http://proxy.company.com:8080
  https: https://proxy.company.com:8080

custom_channels:        # å†…éƒ¨æºé…ç½®
  enterprise: http://conda.internal.company.com

safety_checks: strict   # å®‰å…¨æ£€æŸ¥çº§åˆ«
package_verification: true  # åŒ…éªŒè¯
```

### ğŸ’¡ é…ç½®ä½¿ç”¨å»ºè®®

#### **é¦–æ¬¡ä½¿ç”¨**
```bash
# 1. å¤åˆ¶é…ç½®æ–‡ä»¶
cp $DOTFILES/conda/condarc ~/.condarc

# 2. å®‰è£…é«˜æ€§èƒ½æ±‚è§£å™¨
conda install conda-libmamba-solver

# 3. æµ‹è¯•è¿æ¥
conda_test_connection
```

#### **ä¸ªæ€§åŒ–è°ƒæ•´**
```bash
# ä¼ä¸šç”¨æˆ·ï¼šé…ç½®ä»£ç†å’Œå†…éƒ¨æº
conda config --set proxy_servers.http http://proxy.company.com:8080

# å¼€å‘è€…ï¼šå¯ç”¨è¯¦ç»†è°ƒè¯•æ¨¡å¼  
conda config --set verbosity 2

# è°¨æ…ç”¨æˆ·ï¼šç¦ç”¨è‡ªåŠ¨æ›´æ–°
conda config --set auto_update_conda false
```

## ğŸ”§ æ•…éšœæ’é™¤

### â— å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

#### **Q1: ç¯å¢ƒåˆ›å»ºå¤±è´¥**

**ç°è±¡**ï¼š
```bash
conda_create_from_template python-basic myenv 3.10
# Error: Could not solve for environment
```

**è¯Šæ–­æ­¥éª¤**ï¼š
```bash
# 1. æ£€æŸ¥ç½‘ç»œè¿æ¥
conda_test_connection

# 2. å°è¯•å¹²è¿è¡ŒæŸ¥çœ‹å†²çª
conda_create_from_template python-basic test 3.10 --dry-run

# 3. æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h ~/.conda

# 4. æ¸…ç†ç¼“å­˜é‡è¯•
conda_cleanup
conda_create_from_template python-basic myenv 3.10
```

#### **Q2: å‡½æ•°å‘½ä»¤ä¸å¯ç”¨**

**ç°è±¡**ï¼š
```bash
conda_status
# zsh: command not found: conda_status
```

**è¯Šæ–­å’Œè§£å†³**ï¼š
```bash
# æ£€æŸ¥æ¨¡å—æ˜¯å¦åŠ è½½
echo $CONDA_MODULE_LOADED

# é‡æ–°åŠ è½½dotfiles
source ~/.zshrc

# æ£€æŸ¥æ–‡ä»¶è·¯å¾„
ls -la $DOTFILES/conda/functions.zsh

# æ‰‹åŠ¨åŠ è½½å‡½æ•°æ–‡ä»¶
source $DOTFILES/conda/functions.zsh
```

#### **Q3: æºåˆ‡æ¢æ— æ•ˆ**

**ç°è±¡**ï¼š
```bash
conda_switch_source china
# ä½†ä¸‹è½½é€Ÿåº¦ä¾ç„¶å¾ˆæ…¢
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆ
conda config --show channels

# æ¸…é™¤condaç¼“å­˜
conda clean --index-cache

# å¼ºåˆ¶åˆ·æ–°åŒ…ç´¢å¼•
conda update --all --dry-run

# æµ‹è¯•å…·ä½“åŒ…ä¸‹è½½
conda search numpy --info
```

### ğŸ“ è·å–æ”¯æŒ

#### **ğŸ†˜ æŠ¥å‘Šé—®é¢˜æµç¨‹**

**æä¾›ä»¥ä¸‹ä¿¡æ¯**ï¼š
```bash
# 1. ç³»ç»Ÿç¯å¢ƒ
./diagnostic_report.sh

# 2. é‡ç°æ­¥éª¤
echo "å…·ä½“çš„å‘½ä»¤åºåˆ—å’Œé”™è¯¯ä¿¡æ¯"

# 3. æœŸæœ›è¡Œä¸º
echo "æœŸæœ›å‘ç”Ÿä»€ä¹ˆ"

# 4. å®é™…ç»“æœ  
echo "å®é™…å‘ç”Ÿäº†ä»€ä¹ˆï¼ŒåŒ…æ‹¬å®Œæ•´é”™è¯¯ä¿¡æ¯"
```

---

## ğŸ¯ æ€»ç»“

Condaå¢å¼ºæ¨¡å—é€šè¿‡**åˆ†å±‚æ¶æ„è®¾è®¡**å’Œ**ä¸“ä¸šåŒ–å·¥å…·é“¾**ï¼ŒæˆåŠŸè§£å†³äº†Pythonç¯å¢ƒç®¡ç†çš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚æ— è®ºæ˜¯ä¸ªäººå¼€å‘è€…çš„æ—¥å¸¸éœ€æ±‚ï¼Œè¿˜æ˜¯ä¼ä¸šçº§çš„å¤æ‚åœºæ™¯ï¼Œéƒ½èƒ½æ‰¾åˆ°åˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚

**ğŸš€ ç«‹å³å¼€å§‹ä½¿ç”¨**ï¼š
```bash
conda_status                                    # æ£€æŸ¥å½“å‰çŠ¶æ€
conda_create_from_template python-basic dev 3.10  # åˆ›å»ºå¼€å‘ç¯å¢ƒ
```

*è®©Pythonç¯å¢ƒç®¡ç†å˜å¾—ç®€å•ã€å¯é ã€é«˜æ•ˆï¼* ğŸâœ¨

# ==============================================================================
# æœºå™¨å­¦ä¹ çŽ¯å¢ƒæ¨¡æ¿
# é€‚ç”¨äºŽï¼šæœºå™¨å­¦ä¹ ã€æ•°æ®ç§‘å­¦ã€é¢„æµ‹å»ºæ¨¡ã€ç‰¹å¾å·¥ç¨‹
# åŒ…å«ï¼šå®Œæ•´æ•°æ®ç§‘å­¦å·¥å…·é“¾ + æœºå™¨å­¦ä¹ ç®—æ³• + æ¨¡åž‹è¯„ä¼°
# Python ç‰ˆæœ¬ï¼šå‚æ•°åŒ–æ”¯æŒ 3.9-3.12
# ==============================================================================

# ðŸ’» ç³»ç»Ÿé…ç½®è¦æ±‚
# æœ€ä½Žé…ç½®ï¼š16GB RAM, 4GB å¯ç”¨ç£ç›˜ç©ºé—´
# æŽ¨èé…ç½®ï¼š32GB RAM, 8GB å¯ç”¨ç£ç›˜ç©ºé—´  
# é«˜æ€§èƒ½é…ç½®ï¼š64GB RAM, 15GB å¯ç”¨ç£ç›˜ç©ºé—´ (å¤§è§„æ¨¡MLè®­ç»ƒ)
# åŒ…å¤§å°ä¼°ç®—ï¼š~3.2GB (åŒ…å«å®Œæ•´æ•°æ®ç§‘å­¦ + MLç®—æ³•)
# æ”¯æŒç³»ç»Ÿï¼šWindows 10+, macOS 10.15+, Linux (Ubuntu 18.04+)
# å®‰è£…æ—¶é—´ï¼š20-35åˆ†é’Ÿ (å–å†³äºŽç½‘ç»œé€Ÿåº¦)
# CPUå»ºè®®ï¼š8æ ¸+ å¤„ç†å™¨ (MLè®­ç»ƒå¹¶è¡ŒåŒ–)
# ç‰¹æ®Šè¯´æ˜Žï¼šæŸäº›ç®—æ³• (XGBoost, LightGBM) æ”¯æŒ GPU åŠ é€Ÿ

name: machinelearning{{ '-' + suffix if suffix else '' }}

channels:
  - conda-forge
  - defaults

dependencies:
  # -----------------------------------------------------------------------------
  # æ ¸å¿ƒ Python çŽ¯å¢ƒ
  # -----------------------------------------------------------------------------
  - python={{ python_version }}.*           # Python è§£é‡Šå™¨
  - pip                                      # Python åŒ…ç®¡ç†å™¨

  # -----------------------------------------------------------------------------
  # Jupyter å¼€å‘çŽ¯å¢ƒ (æ•°æ®ç§‘å­¦å¿…éœ€)
  # -----------------------------------------------------------------------------
  - jupyter>=1.0,<2.0                       # Jupyter æ ¸å¿ƒ
  - jupyterlab>=4.0,<5.0                   # çŽ°ä»£å¼€å‘ç•Œé¢
  - ipywidgets>=8.0,<9.0                   # äº¤äº’å¼ç»„ä»¶
  - notebook>=6.5,<8.0                     # ç»å…¸ notebook

  # -----------------------------------------------------------------------------
  # æ ¸å¿ƒæ•°æ®ç§‘å­¦åº“
  # -----------------------------------------------------------------------------
  - numpy>=1.21,<2.0                       # æ•°å€¼è®¡ç®—åŸºç¡€
  - pandas>=1.5,<3.0                       # æ•°æ®å¤„ç†å’Œåˆ†æž
  - scipy>=1.9,<2.0                        # ç§‘å­¦è®¡ç®—åº“

  # -----------------------------------------------------------------------------
  # æ•°æ®å¯è§†åŒ– (MLç»“æžœå±•ç¤ºå¿…éœ€)
  # -----------------------------------------------------------------------------
  - matplotlib>=3.5,<4.0                   # åŸºç¡€ç»˜å›¾
  - seaborn>=0.11,<1.0                     # ç»Ÿè®¡å¯è§†åŒ–
  - plotly>=5.10,<6.0                      # äº¤äº’å¼å¯è§†åŒ–

  # -----------------------------------------------------------------------------
  # æ•°æ®è¾“å…¥è¾“å‡º (MLé¡¹ç›®æ•°æ®æº)
  # -----------------------------------------------------------------------------
  - requests>=2.28,<3.0                    # HTTP è¯·æ±‚åº“
  - xlrd>=2.0,<3.0                         # Excel æ–‡ä»¶è¯»å–ï¼ˆ.xls æ ¼å¼ï¼‰
  - openpyxl>=3.0,<4.0                     # Excel æ–‡ä»¶å¤„ç†ï¼ˆ.xlsx æ ¼å¼ï¼‰
  - sqlalchemy>=2.0,<3.0                   # æ•°æ®åº“ ORM å’Œ SQL å·¥å…·åŒ…

  # -----------------------------------------------------------------------------
  # æœºå™¨å­¦ä¹ æ ¸å¿ƒç®—æ³•
  # -----------------------------------------------------------------------------
  - scikit-learn>=1.1,<2.0                 # ç»å…¸æœºå™¨å­¦ä¹ ç®—æ³•
  - xgboost>=1.7,<3.0                      # æ¢¯åº¦æå‡ç®—æ³•
  - lightgbm>=3.3,<5.0                     # è½»é‡çº§æ¢¯åº¦æå‡
  - catboost>=1.1,<2.0                     # ç±»åˆ«ç‰¹å¾æ¢¯åº¦æå‡

  # -----------------------------------------------------------------------------
  # æ¨¡åž‹ä¼˜åŒ–å’Œè°ƒå‚
  # -----------------------------------------------------------------------------
  - optuna>=3.1,<4.0                       # è¶…å‚æ•°ä¼˜åŒ–
  - hyperopt>=0.2,<1.0                     # è¶…å‚æ•°ä¼˜åŒ–ï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰

  # -----------------------------------------------------------------------------
  # ç»Ÿè®¡åˆ†æžå’Œç‰¹å¾å·¥ç¨‹
  # -----------------------------------------------------------------------------
  - statsmodels>=0.13,<1.0                 # ç»Ÿè®¡å»ºæ¨¡å’Œè®¡é‡ç»æµŽå­¦
  - sympy>=1.11,<2.0                       # ç¬¦å·æ•°å­¦è®¡ç®—

  # -----------------------------------------------------------------------------
  # MLå·¥å…·å’Œè¾…åŠ©åŒ…
  # -----------------------------------------------------------------------------
  - tqdm>=4.64,<5.0                        # è¿›åº¦æ¡æ˜¾ç¤ºï¼ˆMLè®­ç»ƒå¿…éœ€ï¼‰
  - joblib>=1.2,<2.0                       # å¹¶è¡Œè®¡ç®—å’Œæ¨¡åž‹åºåˆ—åŒ–

  # -----------------------------------------------------------------------------
  # åŸºç¡€å¼€å‘å·¥å…·
  # -----------------------------------------------------------------------------
  - black>=23.0,<25.0                      # ä»£ç æ ¼å¼åŒ–å·¥å…·
  - pytest>=7.2,<9.0                      # æµ‹è¯•æ¡†æž¶
  - ipython>=8.10,<9.0                    # å¢žå¼ºçš„äº¤äº’å¼ Python shell

  # -----------------------------------------------------------------------------
  # pip ä¾èµ–ï¼ˆconda ç‰ˆæœ¬å¯èƒ½æ»žåŽçš„åŒ…ï¼‰
  # -----------------------------------------------------------------------------
  - pip:
    - mlflow>=2.3,<3.0                     # æœºå™¨å­¦ä¹ ç”Ÿå‘½å‘¨æœŸç®¡ç†
    - shap>=0.41,<1.0                      # æ¨¡åž‹è§£é‡Šå·¥å…·
    - pandas-profiling>=3.6,<4.0           # è‡ªåŠ¨åŒ–æ•°æ®æŽ¢ç´¢æŠ¥å‘Š
    - missingno>=0.5.2,<1.0                # ç¼ºå¤±æ•°æ®å¯è§†åŒ–
    - sweetviz>=2.1,<3.0                   # æ•°æ®å¯è§†åŒ–åˆ†æžå·¥å…·
    - imbalanced-learn>=0.10,<1.0          # ä¸å¹³è¡¡æ•°æ®å¤„ç†
    - feature-engine>=1.6,<2.0             # ç‰¹å¾å·¥ç¨‹å·¥å…·åŒ…
    - yellowbrick>=1.5,<2.0                # æœºå™¨å­¦ä¹ å¯è§†åŒ–

# ==============================================================================
# çŽ¯å¢ƒè¯´æ˜Ž
# ==============================================================================
# 
# ðŸŽ¯ é€‚ç”¨åœºæ™¯ï¼š
#   - å®Œæ•´çš„æœºå™¨å­¦ä¹ é¡¹ç›®å¼€å‘
#   - æ•°æ®æŽ¢ç´¢åˆ°æ¨¡åž‹éƒ¨ç½²çš„å…¨æµç¨‹
#   - ç‰¹å¾å·¥ç¨‹å’Œæ¨¡åž‹é€‰æ‹©
#   - æ¨¡åž‹è§£é‡Šå’Œè¯„ä¼°
#   - è¶…å‚æ•°è°ƒä¼˜å’Œå®žéªŒç®¡ç†
#
# ðŸ“¦ æ ¸å¿ƒåŠŸèƒ½ï¼š
#   - âœ… å®Œæ•´çš„æ•°æ®ç§‘å­¦å·¥å…·é“¾ (pandas + numpy + jupyter)
#   - âœ… ä¸°å¯Œçš„å¯è§†åŒ–å·¥å…· (matplotlib + seaborn + plotly)
#   - âœ… å¤šç§æ•°æ®æºæ”¯æŒ (Excel + æ•°æ®åº“ + API)
#   - âœ… ç»å…¸MLç®—æ³• (scikit-learn + xgboost + lightgbm + catboost)
#   - âœ… æ™ºèƒ½è°ƒå‚ (optuna + hyperopt)
#   - âœ… æ¨¡åž‹è§£é‡Š (shap + yellowbrick)
#   - âœ… å®žéªŒç®¡ç† (mlflow)
#   - âœ… ç‰¹å¾å·¥ç¨‹ (feature-engine + imbalanced-learn)
#   - âœ… æ•°æ®æŽ¢ç´¢ (pandas-profiling + sweetviz + missingno)
#
# ðŸš€ åˆ›å»ºçŽ¯å¢ƒï¼š
#   conda_create_from_template machinelearning 3.11
#   conda_create_from_template machinelearning my-ml-project 3.10
#
# ðŸ“Š å…¸åž‹MLå·¥ä½œæµï¼š
#   1. æ•°æ®æŽ¢ç´¢ï¼špandas-profiling, sweetviz
#   2. æ•°æ®æ¸…æ´—ï¼špandas + missingno  
#   3. ç‰¹å¾å·¥ç¨‹ï¼šfeature-engine + sklearn.preprocessing
#   4. æ¨¡åž‹è®­ç»ƒï¼šscikit-learn + xgboost + lightgbm
#   5. è¶…å‚è°ƒä¼˜ï¼šoptuna
#   6. æ¨¡åž‹è¯„ä¼°ï¼šyellowbrick + sklearn.metrics
#   7. æ¨¡åž‹è§£é‡Šï¼šshap
#   8. å®žéªŒç®¡ç†ï¼šmlflow
#   9. ç»“æžœå¯è§†åŒ–ï¼šmatplotlib + seaborn + plotly
#
# ðŸ”§ å…¸åž‹å·¥ä½œæµï¼š
#   conda activate my-ml-project
#   jupyter lab                             # å¯åŠ¨å¼€å‘çŽ¯å¢ƒ
#   # 1. æ•°æ®æŽ¢ç´¢å’ŒEDA (ä½¿ç”¨å®Œæ•´æ•°æ®ç§‘å­¦å·¥å…·)
#   # 2. æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç† (pandas + feature-engine)
#   # 3. ç‰¹å¾å·¥ç¨‹ (sklearn + custom transformers)
#   # 4. æ¨¡åž‹è®­ç»ƒå’Œæ¯”è¾ƒ (å¤šç§ç®—æ³•)
#   # 5. è¶…å‚æ•°è°ƒä¼˜ (optuna)
#   # 6. æ¨¡åž‹è¯„ä¼°å’Œè§£é‡Š (shap + yellowbrick)
#   # 7. å®žéªŒè®°å½• (mlflow)
#   # 8. ç»“æžœå±•ç¤º (å¯è§†åŒ–å·¥å…·)
#
# ðŸ“ˆ ä¸Žå…¶ä»–æ¨¡æ¿çš„å…³ç³»ï¼š
#   - åŒ…å« datascience.yml çš„æ‰€æœ‰åŠŸèƒ½
#   - å¯å‡çº§åˆ° deeplearning.yml (æ·±åº¦å­¦ä¹ )
#   - å¯æ‰©å±•åˆ° machinelearning-cv.yml (è®¡ç®—æœºè§†è§‰)
#   - å¯æ‰©å±•åˆ° machinelearning-nlp.yml (è‡ªç„¶è¯­è¨€å¤„ç†)
#
# ðŸ’¡ è®¾è®¡ç†å¿µï¼š
#   - ä¸€ä¸ªçŽ¯å¢ƒå®Œæˆå®Œæ•´MLå·¥ä½œæµ
#   - ä»Žæ•°æ®æŽ¢ç´¢åˆ°æ¨¡åž‹éƒ¨ç½²æ— éœ€åˆ‡æ¢çŽ¯å¢ƒ
#   - åŒ…å«çŽ°ä»£MLå¼€å‘çš„æœ€ä½³å®žè·µå·¥å…·
#   - æ”¯æŒå®žéªŒç®¡ç†å’Œæ¨¡åž‹ç‰ˆæœ¬æŽ§åˆ¶
#
# ðŸ”§ å¯é€‰æ‰©å±•ï¼š
#   # æ·±åº¦å­¦ä¹ æ‰©å±•
#   conda install pytorch tensorflow-gpu
#   
#   # æ—¶é—´åºåˆ—åˆ†æž
#   pip install prophet neuralprophet statsforecast
#   
#   # åœ°ç†ç©ºé—´ML
#   conda install geopandas folium
#   
#   # å¤§æ•°æ®å¤„ç†
#   conda install dask distributed
# ==============================================================================
# Python åŸºç¡€å¼€å‘çŽ¯å¢ƒ
# é€‚ç”¨äºŽï¼šé€šç”¨ Python å¼€å‘ã€è„šæœ¬ç¼–å†™ã€å°åž‹é¡¹ç›®
# Python ç‰ˆæœ¬ï¼š3.9 / 3.10 / 3.11ï¼ˆå‚æ•°åŒ–æ”¯æŒï¼‰
# ==============================================================================

# ðŸ’» ç³»ç»Ÿé…ç½®è¦æ±‚
# æœ€ä½Žé…ç½®ï¼š2GB RAM, 1GB å¯ç”¨ç£ç›˜ç©ºé—´
# æŽ¨èé…ç½®ï¼š4GB RAM, 2GB å¯ç”¨ç£ç›˜ç©ºé—´  
# é«˜æ€§èƒ½é…ç½®ï¼š8GB RAM, 5GB å¯ç”¨ç£ç›˜ç©ºé—´ (å¤šé¡¹ç›®å¼€å‘)
# åŒ…å¤§å°ä¼°ç®—ï¼š~500MB (åŸºç¡€ Python å·¥å…·é“¾)
# æ”¯æŒç³»ç»Ÿï¼šWindows 10+, macOS 10.14+, Linux (Ubuntu 18.04+)
# å®‰è£…æ—¶é—´ï¼š5-10åˆ†é’Ÿ (å–å†³äºŽç½‘ç»œé€Ÿåº¦)
# CPUå»ºè®®ï¼šåŒæ ¸+ å¤„ç†å™¨ (åŸºæœ¬å¼€å‘éœ€æ±‚)
# ç‰¹æ®Šè¯´æ˜Žï¼šé€‚åˆ Python å­¦ä¹ å’Œè½»é‡çº§è„šæœ¬å¼€å‘

name: python-basic-{{PYTHON_VERSION}}

channels:
  - conda-forge
  - defaults

dependencies:
  # -----------------------------------------------------------------------------
  # æ ¸å¿ƒ Python çŽ¯å¢ƒ
  # -----------------------------------------------------------------------------
  - python={{PYTHON_VERSION}}.*      # Python è§£é‡Šå™¨ï¼ˆå‚æ•°åŒ–ç‰ˆæœ¬ï¼‰
  - pip                              # Python åŒ…ç®¡ç†å™¨

  # -----------------------------------------------------------------------------
  # åŸºç¡€å¸¸ç”¨åº“
  # -----------------------------------------------------------------------------
  - requests>=2.28,<3.0              # HTTP è¯·æ±‚åº“
  - urllib3>=1.26,<3.0               # HTTP å®¢æˆ·ç«¯åº•å±‚åº“
  - certifi>=2023.5.7                # SSL è¯ä¹¦ç®¡ç†
  - python-dateutil>=2.8,<3.0       # æ—¥æœŸæ—¶é—´å¤„ç†å¢žå¼º
  - click>=8.1,<9.0                  # å‘½ä»¤è¡ŒæŽ¥å£æ¡†æž¶

  # -----------------------------------------------------------------------------
  # ä»£ç è´¨é‡å·¥å…·
  # -----------------------------------------------------------------------------
  - black>=23.0,<25.0                # ä»£ç æ ¼å¼åŒ–å·¥å…·
  - isort>=5.12,<6.0                 # import è¯­å¥æŽ’åº
  - flake8>=6.0,<8.0                 # ä»£ç é£Žæ ¼æ£€æŸ¥
  - mypy>=1.0,<2.0                   # é™æ€ç±»åž‹æ£€æŸ¥

  # -----------------------------------------------------------------------------
  # æµ‹è¯•æ¡†æž¶
  # -----------------------------------------------------------------------------
  - pytest>=7.2,<9.0                # çŽ°ä»£æµ‹è¯•æ¡†æž¶
  - pytest-cov>=4.0,<6.0            # æµ‹è¯•è¦†ç›–çŽ‡æ’ä»¶
  - coverage>=7.2,<8.0               # è¦†ç›–çŽ‡åˆ†æžå·¥å…·

  # -----------------------------------------------------------------------------
  # å¼€å‘è°ƒè¯•å·¥å…·
  # -----------------------------------------------------------------------------
  - ipython>=8.10,<9.0               # å¢žå¼ºçš„äº¤äº’å¼ Python shell
  - rich>=13.0,<14.0                 # ç¾ŽåŒ–ç»ˆç«¯è¾“å‡º

  # -----------------------------------------------------------------------------
  # é…ç½®æ–‡ä»¶å¤„ç†
  # -----------------------------------------------------------------------------
  - python-dotenv>=1.0,<2.0         # çŽ¯å¢ƒå˜é‡æ–‡ä»¶æ”¯æŒ
  - toml>=0.10,<1.0                  # TOML é…ç½®æ–‡ä»¶è§£æž
  - pyyaml>=6.0,<7.0                 # YAML é…ç½®æ–‡ä»¶è§£æž

  # -----------------------------------------------------------------------------
  # pip ä¾èµ–ï¼ˆçŽ°ä»£å·¥å…·ï¼Œconda ç‰ˆæœ¬å¯èƒ½æ»žåŽï¼‰
  # -----------------------------------------------------------------------------
  - pip:
    - ruff>=0.1.0,<1.0               # è¶…å¿«çš„ Python ä»£ç æ£€æŸ¥å™¨
    - pre-commit>=3.0,<4.0           # Git commit hooks ç®¡ç†
    - ipdb>=0.13.13,<1.0             # å¢žå¼ºçš„ Python è°ƒè¯•å™¨

# ==============================================================================
# çŽ¯å¢ƒè¯´æ˜Ž
# ==============================================================================
# 
# ðŸŽ¯ é€‚ç”¨åœºæ™¯ï¼š
#   - Python åŸºç¡€å¼€å‘å’Œå­¦ä¹ 
#   - è„šæœ¬ç¼–å†™å’Œè‡ªåŠ¨åŒ–
#   - å°åž‹é¡¹ç›®å¼€å‘
#   - å¼€æºé¡¹ç›®è´¡çŒ®
#   - ä»£ç åŽŸåž‹å’Œæ¦‚å¿µéªŒè¯
#
# ðŸ“¦ åŒ…å«åŠŸèƒ½ï¼š
#   - âœ… Python 3.9/3.10/3.11 æ”¯æŒï¼ˆå‚æ•°åŒ–ï¼‰
#   - âœ… åŸºç¡€å¼€å‘å·¥å…·é“¾ï¼ˆä»£ç è´¨é‡ + æµ‹è¯•ï¼‰
#   - âœ… å¸¸ç”¨åº“æ”¯æŒï¼ˆHTTP + é…ç½®æ–‡ä»¶ï¼‰
#   - âœ… çŽ°ä»£å¼€å‘å·¥å…·ï¼ˆruff + pre-commitï¼‰
#   - âœ… è°ƒè¯•å’Œäº¤äº’å·¥å…·
#   - âœ… ç‰ˆæœ¬èŒƒå›´æŽ§åˆ¶ï¼ˆç¨³å®šæ€§ä¿è¯ï¼‰
#
# ðŸš€ åˆ›å»ºçŽ¯å¢ƒï¼š
#   conda_create_from_template python-basic myproject 3.10
#   conda_create_from_template python-basic myenv 3.11
#
# ðŸ“ˆ å‡çº§è·¯å¾„ï¼š
#   - æ•°æ®ç§‘å­¦é¡¹ç›® â†’ datascience æ¨¡æ¿
#   - Web API å¼€å‘ â†’ web-fastapi æ¨¡æ¿
#   - Web åº”ç”¨å¼€å‘ â†’ web-django æ¨¡æ¿
#   - æœºå™¨å­¦ä¹ é¡¹ç›® â†’ machinelearning æ¨¡æ¿
#
# ðŸ’¡ ä½¿ç”¨æç¤ºï¼š
#   - æ”¯æŒ Python 3.9, 3.10, 3.11 å¤šç‰ˆæœ¬
#   - åŒ…å«ç‰ˆæœ¬èŒƒå›´æŽ§åˆ¶ï¼Œç¡®ä¿å…¼å®¹æ€§
#   - å»ºè®®é…ç½® pre-commit hooks è‡ªåŠ¨åŒ–ä»£ç è´¨é‡
#   - ä¸“æ³¨åŸºç¡€å¼€å‘ï¼Œä¸åŒ…å«æ•°æ®ç§‘å­¦åº“
#
# ðŸ”§ å…¸åž‹å·¥ä½œæµï¼š
#   conda activate myproject
#   black your_code.py          # ä»£ç æ ¼å¼åŒ–
#   ruff your_code.py            # å¿«é€Ÿä»£ç æ£€æŸ¥
#   mypy your_code.py            # ç±»åž‹æ£€æŸ¥
#   pytest tests/                # è¿è¡Œæµ‹è¯•
#   pre-commit install           # å®‰è£… Git hooks
# ==============================================================================
# ä¼ä¸šçº§DevOpså¼€å‘çŽ¯å¢ƒæ¨¡æ¿ 
# é€‚ç”¨äºŽï¼šåŸºç¡€è®¾æ–½å³ä»£ç ã€å®¹å™¨ç¼–æŽ’ã€äº‘åŽŸç”Ÿéƒ¨ç½²ã€CI/CDã€å¯è§‚æµ‹æ€§
# Python ç‰ˆæœ¬ï¼šå‚æ•°åŒ–æ”¯æŒ 3.9-3.12
# ==============================================================================

# ðŸ’» ç³»ç»Ÿé…ç½®è¦æ±‚
# æœ€ä½Žé…ç½®ï¼š16GB RAM, 10GB å¯ç”¨ç£ç›˜ç©ºé—´, Dockeræ”¯æŒ
# æŽ¨èé…ç½®ï¼š32GB RAM, 25GB å¯ç”¨ç£ç›˜ç©ºé—´, Kubernetesé›†ç¾¤è®¿é—®
# é«˜æ€§èƒ½é…ç½®ï¼š64GB+ RAM, 50GB+ å¯ç”¨ç£ç›˜ç©ºé—´, å¤šäº‘è®¿é—®æƒé™
# åŒ…å¤§å°ä¼°ç®—ï¼š~4.8GB (å®Œæ•´çš„ä¼ä¸šçº§DevOpså·¥å…·é“¾)
# æ”¯æŒç³»ç»Ÿï¼šWindows 11+, macOS 12+, Linux (Ubuntu 20.04+)
# å®‰è£…æ—¶é—´ï¼š20-40åˆ†é’Ÿ (å–å†³äºŽç½‘ç»œé€Ÿåº¦)
# ç½‘ç»œè¦æ±‚ï¼šé«˜é€Ÿäº’è”ç½‘è¿žæŽ¥ï¼Œä¼ä¸šé˜²ç«å¢™é…ç½®
# ç‰¹æ®Šè¯´æ˜Žï¼šéœ€è¦Dockerã€Kuberneteså’Œäº‘æœåŠ¡è®¿é—®æƒé™

name: enterprise-devops{{ '-' + suffix if suffix else '' }}

channels:
  - conda-forge
  - defaults

dependencies:
  # -----------------------------------------------------------------------------
  # æ ¸å¿ƒ Python çŽ¯å¢ƒ
  # -----------------------------------------------------------------------------
  - python={{ python_version }}.*           # Python è§£é‡Šå™¨
  - pip                                      # Python åŒ…ç®¡ç†å™¨
  - setuptools>=69.0,<70.0                  # Python åŒ…æž„å»ºå·¥å…·
  - wheel>=0.43,<1.0                        # äºŒè¿›åˆ¶åŒ…åˆ†å‘

  # -----------------------------------------------------------------------------
  # åŸºç¡€è®¾æ–½å³ä»£ç  (IaC) å·¥å…·
  # -----------------------------------------------------------------------------
  - terraform>=1.12,<2.0                    # HashiCorp Terraform
  - pyyaml>=6.0,<7.0                        # YAML é…ç½®æ–‡ä»¶å¤„ç†
  - jinja2>=3.1,<4.0                        # æ¨¡æ¿å¼•æ“Ž

  # -----------------------------------------------------------------------------
  # å®¹å™¨åŒ–å’Œç¼–æŽ’åŸºç¡€
  # -----------------------------------------------------------------------------
  - docker-compose>=2.20,<3.0               # Docker Compose å·¥å…·
  - helm>=3.12,<4.0                         # Kubernetes åŒ…ç®¡ç†å™¨

  # -----------------------------------------------------------------------------
  # äº‘æœåŠ¡CLIå·¥å…·
  # -----------------------------------------------------------------------------
  - awscli>=2.15,<3.0                       # AWS å‘½ä»¤è¡Œå·¥å…·
  - azure-cli>=2.56,<3.0                    # Azure å‘½ä»¤è¡Œå·¥å…·

  # -----------------------------------------------------------------------------
  # å¼€å‘å’Œæµ‹è¯•å·¥å…·
  # -----------------------------------------------------------------------------
  - pytest>=7.4,<8.0                        # æµ‹è¯•æ¡†æž¶
  - black>=23.0,<25.0                       # ä»£ç æ ¼å¼åŒ–
  - ruff>=0.1.0,<1.0                        # å¿«é€ŸPythonä»£ç æ£€æŸ¥å™¨
  - pre-commit>=3.5,<4.0                    # Git hooksç®¡ç†

  # -----------------------------------------------------------------------------
  # å®‰å…¨å’Œåˆè§„å·¥å…·
  # -----------------------------------------------------------------------------
  - bandit>=1.7,<2.0                        # Python å®‰å…¨æ£€æŸ¥
  - checkov>=3.0,<4.0                       # åŸºç¡€è®¾æ–½å®‰å…¨æ‰«æ

  # -----------------------------------------------------------------------------
  # æ•°æ®å¤„ç†å’Œåˆ†æž
  # -----------------------------------------------------------------------------
  - requests>=2.31,<3.0                     # HTTP å®¢æˆ·ç«¯åº“
  - pandas>=2.1,<3.0                        # æ—¥å¿—å’ŒæŒ‡æ ‡æ•°æ®åˆ†æž
  - click>=8.1,<9.0                         # CLI å·¥å…·å¼€å‘æ¡†æž¶

  # -----------------------------------------------------------------------------
  # ç³»ç»Ÿå·¥å…·å’Œç›‘æŽ§
  # -----------------------------------------------------------------------------
  - psutil>=5.9,<6.0                        # ç³»ç»Ÿèµ„æºç›‘æŽ§
  - tqdm>=4.66,<5.0                         # è¿›åº¦æ¡æ˜¾ç¤º

  # -----------------------------------------------------------------------------
  # pip ä¾èµ– (DevOps ä¸“ç”¨å·¥å…·ç”Ÿæ€)
  # -----------------------------------------------------------------------------
  - pip:
    # =========================================================================
    # â˜ï¸ å¤šäº‘ SDK å’ŒæœåŠ¡é›†æˆ
    # =========================================================================
    - boto3>=1.35.0,<2.0                    # AWS Python SDK
    - azure-mgmt-compute>=34.1.0,<35.0      # Azure è®¡ç®—æœåŠ¡ç®¡ç†
    - azure-mgmt-containerservice>=34.2.0,<35.0  # Azure KubernetesæœåŠ¡
    - azure-mgmt-resource>=23.1.0,<24.0     # Azure èµ„æºç®¡ç†
    - google-cloud-compute>=1.15.0,<2.0     # Google Cloud è®¡ç®—å¼•æ“Ž
    - google-cloud-container>=2.35.0,<3.0   # Google Kubernetes å¼•æ“Ž
    - google-cloud-storage>=2.10.0,<3.0     # Google Cloud å­˜å‚¨

    # =========================================================================
    # ðŸ³ å®¹å™¨å’Œç¼–æŽ’ç®¡ç†
    # =========================================================================
    - kubernetes>=33.0.0,<34.0              # Kubernetes Python å®¢æˆ·ç«¯
    - docker>=6.1.0,<7.0                    # Docker Python SDK
    - podman-py>=0.2.0,<1.0                 # Podman Python æŽ¥å£
    - docker-compose>=1.29.0,<2.0           # Docker Compose Python API

    # =========================================================================
    # ðŸ—ï¸ çŽ°ä»£åŸºç¡€è®¾æ–½å³ä»£ç 
    # =========================================================================
    - pulumi>=3.100.0,<4.0                  # çŽ°ä»£ IaC æ¡†æž¶
    - pulumi-aws>=6.20.0,<7.0               # Pulumi AWS æä¾›ç¨‹åº
    - pulumi-kubernetes>=4.8.0,<5.0         # Pulumi Kubernetes æä¾›ç¨‹åº
    - pulumi-azure-native>=2.20.0,<3.0      # Pulumi Azure æä¾›ç¨‹åº
    - pulumi-gcp>=7.10.0,<8.0               # Pulumi Google Cloud æä¾›ç¨‹åº

    # =========================================================================
    # ðŸ“Š å¯è§‚æµ‹æ€§å’Œç›‘æŽ§
    # =========================================================================
    - opentelemetry-sdk>=1.20.0,<2.0        # OpenTelemetry SDK
    - opentelemetry-api>=1.20.0,<2.0        # OpenTelemetry API
    - opentelemetry-instrumentation-requests>=0.41b0,<1.0  # HTTP è¿½è¸ª
    - opentelemetry-exporter-prometheus>=1.12.0,<2.0  # Prometheus å¯¼å‡ºå™¨
    - prometheus-client>=0.19.0,<1.0        # Prometheus Python å®¢æˆ·ç«¯
    - grafana-api>=1.10.0,<2.0              # Grafana API å®¢æˆ·ç«¯
    - datadog>=0.48.0,<1.0                  # Datadog ç›‘æŽ§é›†æˆ
    - newrelic>=9.0.0,<10.0                 # New Relic APM é›†æˆ

    # =========================================================================
    # ðŸ” å®‰å…¨å’Œæœºå¯†ç®¡ç†
    # =========================================================================
    - hvac>=2.0.0,<3.0                      # HashiCorp Vault å®¢æˆ·ç«¯
    - safety>=3.0.0,<4.0                    # ä¾èµ–æ¼æ´žæ‰«æ
    - semgrep>=1.50.0,<2.0                  # é™æ€å®‰å…¨åˆ†æž
    - aws-cdk-lib>=2.100.0,<3.0             # AWS CDK æ ¸å¿ƒåº“
    - cryptography>=41.0.0,<42.0            # åŠ å¯†å’Œå®‰å…¨å·¥å…·
    - passlib>=1.7.4,<2.0                   # å¯†ç å“ˆå¸Œå’ŒéªŒè¯

    # =========================================================================
    # ðŸ”„ CI/CD å¹³å°é›†æˆ
    # =========================================================================
    - python-gitlab>=4.3.0,<5.0             # GitLab API å®¢æˆ·ç«¯
    - pygithub>=2.1.0,<3.0                  # GitHub API å®¢æˆ·ç«¯
    - jenkins-job-builder>=6.0.0,<7.0       # Jenkins ä½œä¸šé…ç½®
    - azure-devops>=7.1.0,<8.0              # Azure DevOps Services
    - bitbucket-api>=0.5.0,<1.0             # Bitbucket API å®¢æˆ·ç«¯

    # =========================================================================
    # ðŸŒ æœåŠ¡ç½‘æ ¼å’Œç½‘ç»œ
    # =========================================================================
    - consul-python>=1.1.0,<2.0             # HashiCorp Consul é›†æˆ
    - grpcio>=1.60.0,<2.0                   # gRPC é€šä¿¡æ¡†æž¶
    - grpcio-tools>=1.60.0,<2.0             # gRPC å·¥å…·
    - envoy-data-plane-api>=0.29.0,<1.0     # Envoy ä»£ç†é…ç½®
    - istio-client-python>=1.19.0,<2.0      # Istio æœåŠ¡ç½‘æ ¼å®¢æˆ·ç«¯

    # =========================================================================
    # ðŸ¤– è‡ªåŠ¨åŒ–å’Œé…ç½®ç®¡ç†
    # =========================================================================
    - fabric>=3.2.0,<4.0                    # SSH è‡ªåŠ¨åŒ–å’Œéƒ¨ç½²
    - paramiko>=3.4.0,<4.0                  # SSH å®¢æˆ·ç«¯åº“
    - ansible-runner>=2.3.0,<3.0            # Ansible è‡ªåŠ¨åŒ–æ‰§è¡Œ
    - invoke>=2.2.0,<3.0                    # ä»»åŠ¡æ‰§è¡Œåº“
    - salt>=3006.0,<4000.0                  # SaltStack é…ç½®ç®¡ç†

    # =========================================================================
    # ðŸ“ˆ æ€§èƒ½ç›‘æŽ§å’Œåˆ†æž
    # =========================================================================
    - py-spy>=0.3.14,<1.0                   # Python æ€§èƒ½åˆ†æžå™¨
    - memory-profiler>=0.61.0,<1.0          # å†…å­˜ä½¿ç”¨åˆ†æž
    - psutil>=5.9.0,<6.0                    # ç³»ç»Ÿå’Œè¿›ç¨‹ç›‘æŽ§
    - cpuinfo>=9.0.0,<10.0                  # CPU ä¿¡æ¯èŽ·å–

    # =========================================================================
    # ðŸ”§ å®žç”¨å·¥å…·å’Œå¼€å‘å¢žå¼º
    # =========================================================================
    - rich>=13.7.0,<14.0                    # å¯Œæ–‡æœ¬ç»ˆç«¯è¾“å‡º
    - typer>=0.9.0,<1.0                     # çŽ°ä»£ CLI æ¡†æž¶
    - httpx>=0.27.0,<1.0                    # çŽ°ä»£ HTTP å®¢æˆ·ç«¯
    - tenacity>=8.2.0,<9.0                  # é‡è¯•æœºåˆ¶åº“
    - schedule>=1.2.0,<2.0                  # ä»»åŠ¡è°ƒåº¦åº“

    # =========================================================================
    # ðŸ“ æ–‡æ¡£å’ŒæŠ¥å‘Šç”Ÿæˆ
    # =========================================================================
    - mkdocs>=1.5.0,<2.0                    # é™æ€ç«™ç‚¹ç”Ÿæˆå™¨
    - mkdocs-material>=9.4.0,<10.0          # Material Design ä¸»é¢˜
    - sphinx>=7.2.0,<8.0                    # æ–‡æ¡£ç”Ÿæˆå·¥å…·
    - jinja2-cli>=0.8.0,<1.0                # Jinja2 å‘½ä»¤è¡Œå·¥å…·

    # =========================================================================
    # ðŸ—„ï¸ æ•°æ®åº“å’Œç¼“å­˜é›†æˆ
    # =========================================================================
    - redis>=5.0.0,<6.0                     # Redis å®¢æˆ·ç«¯
    - psycopg2-binary>=2.9.9,<3.0           # PostgreSQL é€‚é…å™¨
    - pymongo>=4.6.0,<5.0                   # MongoDB å®¢æˆ·ç«¯
    - sqlalchemy>=2.0.0,<3.0                # SQL å·¥å…·åŒ…å’Œ ORM

    # =========================================================================
    # ðŸš€ æœåŠ¡éƒ¨ç½²å’Œè´Ÿè½½å‡è¡¡
    # =========================================================================
    - gunicorn>=21.2.0,<22.0                # Python WSGI HTTP æœåŠ¡å™¨
    - uvicorn>=0.24.0,<1.0                  # ASGI æœåŠ¡å™¨
    - nginx-python-module>=1.0.0,<2.0       # Nginx Python æ¨¡å—
    - haproxy-stats>=2.0.0,<3.0             # HAProxy ç»Ÿè®¡æŽ¥å£

# çŽ¯å¢ƒå˜é‡é…ç½®
variables:
  # Kubernetes é…ç½®
  KUBECONFIG: ~/.kube/config
  
  # Docker æž„å»ºä¼˜åŒ–
  DOCKER_BUILDKIT: "1"
  COMPOSE_DOCKER_CLI_BUILD: "1"
  
  # OpenTelemetry é…ç½®
  OTEL_SERVICE_NAME: devops-automation
  OTEL_RESOURCE_ATTRIBUTES: service.name=devops-env,service.version=1.0.0
  
  # äº‘æœåŠ¡é…ç½®
  AWS_DEFAULT_REGION: us-west-2
  AZURE_DEFAULTS_LOCATION: westus2
  GOOGLE_CLOUD_PROJECT: your-project-id
  
  # å®‰å…¨å’Œåˆè§„
  BANDIT_CONFIG_FILE: .bandit
  CHECKOV_CONFIG_FILE: .checkov.yml
  
  # æ€§èƒ½å’Œå¹¶å‘
  TERRAFORM_PARALLELISM: "10"
  ANSIBLE_HOST_KEY_CHECKING: "False"

# ==============================================================================
# çŽ¯å¢ƒè¯´æ˜Ž
# ==============================================================================
# 
# ðŸŽ¯ ä¸»è¦ç”¨é€”ï¼š
# â€¢ åŸºç¡€è®¾æ–½å³ä»£ç  (IaC) å¼€å‘å’Œç®¡ç†
# â€¢ å®¹å™¨åŒ–åº”ç”¨çš„æž„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²  
# â€¢ äº‘åŽŸç”Ÿåº”ç”¨çš„ç›‘æŽ§å’Œå¯è§‚æµ‹æ€§
# â€¢ CI/CD æµæ°´çº¿çš„è®¾è®¡å’Œç»´æŠ¤
# â€¢ å¤šäº‘çŽ¯å¢ƒçš„è‡ªåŠ¨åŒ–è¿ç»´
# 
# ðŸ“‹ æ ¸å¿ƒåŠŸèƒ½ï¼š
# â€¢ Terraform/Pulumi åŸºç¡€è®¾æ–½ç¼–æŽ’
# â€¢ Kubernetes é›†ç¾¤ç®¡ç†å’Œåº”ç”¨éƒ¨ç½²
# â€¢ Docker å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
# â€¢ äº‘æœåŠ¡ API é›†æˆ (AWS/Azure/GCP)
# â€¢ OpenTelemetry å…¨é“¾è·¯è¿½è¸ª
# â€¢ å®‰å…¨æ‰«æå’Œåˆè§„æ£€æŸ¥
# 
# ðŸ› ï¸ æ”¯æŒçš„å·¥ä½œæµï¼š
# â€¢ GitOps å£°æ˜Žå¼éƒ¨ç½²
# â€¢ è“ç»¿éƒ¨ç½²å’Œé‡‘ä¸é›€å‘å¸ƒ
# â€¢ åŸºç¡€è®¾æ–½çŠ¶æ€ç®¡ç†å’Œæ¼‚ç§»æ£€æµ‹
# â€¢ æœåŠ¡ç½‘æ ¼é…ç½®å’Œæµé‡ç®¡ç†
# â€¢ å¤šçŽ¯å¢ƒé…ç½®ç®¡ç† (dev/staging/prod)
# 
# âš¡ æ€§èƒ½ç‰¹æ€§ï¼š
# â€¢ å¹¶å‘åŸºç¡€è®¾æ–½æ“ä½œ
# â€¢ ç¼“å­˜å’ŒçŠ¶æ€ä¼˜åŒ–
# â€¢ åˆ†å¸ƒå¼ç›‘æŽ§å’Œå‘Šè­¦
# â€¢ è‡ªåŠ¨æ‰©ç¼©å®¹æ”¯æŒ
# 
# ðŸ” ä¼ä¸šçº§å®‰å…¨ï¼š
# â€¢ æœºå¯†ç®¡ç†å’Œå¯†é’¥è½®æ¢
# â€¢ ç½‘ç»œå®‰å…¨æ‰«æ
# â€¢ åˆè§„æ€§æ£€æŸ¥å’Œå®¡è®¡
# â€¢ èº«ä»½å’Œè®¿é—®ç®¡ç†é›†æˆ

# ==============================================================================
# 数据科学全家桶环境
# 核心定位：数据分析、可视化、探索性数据分析
# 目标用户：数据分析师、数据科学家、研究人员
# 工作流程：数据收集 → 清洗 → 分析 → 可视化 → 报告
# Python 版本：3.9 / 3.10 / 3.11（参数化支持）
# ==============================================================================

# 💻 系统配置要求
# 最低配置：8GB RAM, 3GB 可用磁盘空间
# 推荐配置：16GB RAM, 5GB 可用磁盘空间
# 高性能配置：32GB RAM, 10GB 可用磁盘空间 (大数据集分析)
# 包大小估算：~2.0GB (包含 Jupyter 完整生态)
# 支持系统：Windows 10+, macOS 10.15+, Linux (Ubuntu 18.04+)
# 安装时间：15-25分钟 (取决于网络速度)
# CPU建议：四核+ 处理器 (数据处理并行化)
# 特殊说明：SSD 硬盘强烈建议 (大幅提升数据加载速度)

name: datascience-{{PYTHON_VERSION}}

channels:
  - conda-forge
  - defaults

dependencies:
  # -----------------------------------------------------------------------------
  # 核心 Python 环境
  # -----------------------------------------------------------------------------
  - python={{PYTHON_VERSION}}.*      # Python 解释器（参数化版本）
  - pip                              # Python 包管理器

  # -----------------------------------------------------------------------------
  # 数据处理核心
  # -----------------------------------------------------------------------------
  - numpy>=1.20,<1.27                # 数值计算基础库
  - pandas>=1.5,<3.0                 # 数据处理和分析标准库
  - scipy>=1.9,<2.0                  # 科学计算和统计分析

  # -----------------------------------------------------------------------------
  # 数据可视化
  # -----------------------------------------------------------------------------
  - matplotlib>=3.5,<4.0             # Python 可视化基础库
  - seaborn>=0.11,<1.0               # 统计数据可视化
  - plotly>=5.0,<6.0                 # 交互式可视化

  # -----------------------------------------------------------------------------
  # 交互式开发环境
  # -----------------------------------------------------------------------------
  - jupyter>=1.0,<2.0                # Jupyter 生态系统核心
  - jupyterlab>=3.4,<5.0             # 现代 Jupyter 开发环境
  - notebook>=6.4,<8.0               # Jupyter Notebook 服务器
  - ipywidgets>=7.6,<9.0             # Jupyter 交互式组件
  - ipykernel>=6.15,<7.0             # Jupyter Python 内核

  # -----------------------------------------------------------------------------
  # 数据输入输出
  # -----------------------------------------------------------------------------
  - openpyxl>=3.0,<4.0               # Excel 文件读写
  - xlrd>=2.0,<3.0                   # Excel 文件读取支持
  - h5py>=3.7,<4.0                   # HDF5 数据格式支持
  - pytables>=3.7,<4.0               # HDF5 表格数据

  # -----------------------------------------------------------------------------
  # 数据输入输出
  # -----------------------------------------------------------------------------
  - requests>=2.28,<3.0              # HTTP 请求库
  - beautifulsoup4>=4.11,<5.0        # HTML/XML 解析和网页抓取
  - lxml>=4.9,<5.0                   # XML 解析器
  - xlrd>=2.0,<3.0                   # Excel 文件读取（.xls 格式）
  - openpyxl>=3.0,<4.0               # Excel 文件处理（.xlsx 格式）
  - sqlalchemy>=2.0,<3.0             # 数据库 ORM 和 SQL 工具包

  # -----------------------------------------------------------------------------
  # 统计分析和符号计算
  # -----------------------------------------------------------------------------
  - statsmodels>=0.13,<1.0           # 统计建模和计量经济学
  - sympy>=1.11,<2.0                 # 符号数学计算

  # -----------------------------------------------------------------------------
  # 数据探索和分析工具
  # -----------------------------------------------------------------------------
  - tqdm>=4.64,<5.0                  # 进度条显示

  # -----------------------------------------------------------------------------
  # 基础开发工具
  # -----------------------------------------------------------------------------
  - black>=23.0,<25.0                # 代码格式化工具
  - pytest>=7.2,<9.0                # 测试框架
  - ipython>=8.10,<9.0               # 增强的交互式 Python shell

  # -----------------------------------------------------------------------------
  # 配置文件处理
  # -----------------------------------------------------------------------------
  - pyyaml>=6.0,<7.0                 # YAML 配置文件解析
  - toml>=0.10,<1.0                  # TOML 配置文件解析

  # -----------------------------------------------------------------------------
  # pip 依赖（conda 版本可能滞后的包）
  # -----------------------------------------------------------------------------
  - pip:
    - plotly-dash>=2.10,<3.0         # 交互式 Web 应用框架
    - streamlit>=1.20,<2.0           # 快速数据应用开发
    - jupyter-dash>=0.4,<1.0         # Jupyter 中的 Dash 支持
    - pandas-profiling>=3.6,<4.0     # 自动化数据探索报告
    - missingno>=0.5.2,<1.0          # 缺失数据可视化
    - sweetviz>=2.1,<3.0             # 数据可视化分析工具
    - wordcloud>=1.9,<2.0            # 词云生成工具

# ==============================================================================
# 环境说明
# ==============================================================================
# 
# 🎯 适用场景：
#   - 数据分析和探索性数据分析
#   - 数据可视化和报告生成
#   - 统计分析和建模
#   - 数据清洗和预处理
#   - 交互式数据科学研究
#
# 📦 包含功能：
#   - ✅ 完整的数据处理工具链（numpy + pandas + scipy）
#   - ✅ 专业数据可视化（matplotlib + seaborn + plotly）
#   - ✅ 交互式开发环境（JupyterLab + widgets）
#   - ✅ 多种数据格式支持（Excel + HDF5 + CSV + 数据库）
#   - ✅ 网页数据抓取（requests + beautifulsoup4）
#   - ✅ 数据库连接（sqlalchemy）
#   - ✅ 统计分析工具（statsmodels）
#   - ✅ 快速应用开发（streamlit + dash）
#
# 🚀 创建环境：
#   conda_create_from_template datascience myanalysis 3.10
#   conda_create_from_template datascience research 3.11
#
# 📈 升级路径：
#   - 机器学习项目 → machinelearning 模板
#   - 深度学习项目 → deeplearning-pytorch 模板
#   - Web 数据应用 → 当前模板已包含 streamlit/dash
#
# 💡 使用提示：
#   - 启动 JupyterLab: jupyter lab
#   - 创建 Streamlit 应用: streamlit run app.py
#   - 专注数据分析，不包含机器学习算法
#   - 包含网页抓取和多种数据格式支持
#
# 🔧 典型工作流：
#   conda activate myanalysis
#   jupyter lab                      # 启动交互式开发环境
#   # 在 notebook 中进行数据分析
#   # 使用 pandas 处理数据
#   # 使用 matplotlib/seaborn/plotly 可视化
#   # 使用 streamlit 创建数据应用